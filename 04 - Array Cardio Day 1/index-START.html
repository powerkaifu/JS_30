<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>Array Cardio 💪</title>
	</head>
	<body>
		<p><em>Psst: have a look at the JavaScript Console</em> 💁</p>
		<script>
			// Get your shorts on - this is an array workout!
			// ## Array Cardio Day 1

			// Some data we can work with

			const inventors = [
				{ first: 'Albert', last: 'Einstein', year: 1879, passed: 1955 },
				{ first: 'Isaac', last: 'Newton', year: 1643, passed: 1727 },
				{ first: 'Galileo', last: 'Galilei', year: 1564, passed: 1642 },
				{ first: 'Marie', last: 'Curie', year: 1867, passed: 1934 },
				{ first: 'Johannes', last: 'Kepler', year: 1571, passed: 1630 },
				{ first: 'Nicolaus', last: 'Copernicus', year: 1473, passed: 1543 },
				{ first: 'Max', last: 'Planck', year: 1858, passed: 1947 },
				{ first: 'Katherine', last: 'Blodgett', year: 1898, passed: 1979 },
				{ first: 'Ada', last: 'Lovelace', year: 1815, passed: 1852 },
				{ first: 'Sarah E.', last: 'Goode', year: 1855, passed: 1905 },
				{ first: 'Lise', last: 'Meitner', year: 1878, passed: 1968 },
				{ first: 'Hanna', last: 'Hammarström', year: 1829, passed: 1909 },
			]

			const people = [
				'Beck, Glenn',
				'Becker, Carl',
				'Beckett, Samuel',
				'Beddoes, Mick',
				'Beecher, Henry',
				'Beethoven, Ludwig',
				'Begin, Menachem',
				'Belloc, Hilaire',
				'Bellow, Saul',
				'Benchley, Robert',
				'Benenson, Peter',
				'Ben-Gurion, David',
				'Benjamin, Walter',
				'Benn, Tony',
				'Bennington, Chester',
				'Benson, Leana',
				'Bent, Silas',
				'Bentsen, Lloyd',
				'Berger, Ric',
				'Bergman, Ingmar',
				'Berio, Luciano',
				'Berle, Milton',
				'Berlin, Irving',
				'Berne, Eric',
				'Bernhard, Sandra',
				'Berra, Yogi',
				'Berry, Halle',
				'Berry, Wendell',
				'Bethea, Erin',
				'Bevan, Aneurin',
				'Bevel, Ken',
				'Biden, Joseph',
				'Bierce, Ambrose',
				'Biko, Steve',
				'Billings, Josh',
				'Biondo, Frank',
				'Birrell, Augustine',
				'Black, Elk',
				'Blair, Robert',
				'Blair, Tony',
				'Blake, William',
			]

			// Array.prototype.filter()
			// 1. Filter the list of inventors for those who were born in the 1500's
			// 過濾篩選，留下符合條件的元素，產生新陣列，不會影響原始資料
			let filter_ans = inventors.filter(inventor => inventor.year >= 1500 && inventor.year < 1600)
			console.table(filter_ans)

			// Array.prototype.map()
			// 2. Give us an array of the inventors first and last names
			// map() 與 forEach()
			// map() 對每個元素做事，並回傳元素的內容，產生新陣列，不會影響原始資料
			let map_ans = inventors.map(inventor => inventor.first + ' ' + inventor.last)
			console.table(map_ans)

			// forEach() 也是對每個元素做事，但不會回傳新陣列（forEach 很難控制元素順序的問題，可以使用 for 迭代 index 來代替）
			let each_ans = []
			inventors.forEach(inventor => each_ans.push(inventor.first + ' ' + inventor.last))
			console.table(each_ans)

			// Array.prototype.sort()
			// 3. Sort the inventors by birthday, oldest to youngest
			// chrome 瀏覽器操作 sort 目前都採穩定排序，也就是兩者資料一樣時，排序先出現的位置不變，可放心使用。
			// 三種條件可能
			// < 0 兩者相減小於0，a前b後
			// == 0 兩者相減等於0，順序不變
			// > 0 兩者相減大於0，a後b前
			let sort_ans = inventors.sort((a, b) => a.year - b.year)
			console.table(sort_ans)

			// Array.prototype.reduce()
			// 4. How many years did all the inventors live all together?
			// 相加
			let total = inventors.reduce((total, inventor) => {
				return total + inventor.passed - inventor.year
			}, 0)
			console.log(total)

			// 5. Sort the inventors by years lived
			inventors.forEach(inventor => {
				inventor.lived = inventor.passed - inventor.year
			})
			let sort_lived = inventors.sort((a, b) => a.lived - b.lived)
			console.table(sort_lived)

			// 6. create a list of Boulevards in Paris that contain 'de' anywhere in the name
			// https://en.wikipedia.org/wiki/Category:Boulevards_in_Paris
			let list = []
			document.querySelectorAll('.mw-category-group li a').forEach(a => list.push(a.title))
			let ans = list.filter(item => item.indexOf('de') !== -1)

			// 7. sort Exercise
			// Sort the people alphabetically by last name
			let people_ans = people.sort((a, b) => {
				// ES6 解構賦值，可以很清楚知道切出來的值要給誰，例如 aFirst、aLast
				let [aFirst, aLast] = a.split(', ')
				let [bFirst, bLast] = b.split(', ')
				return aLast > bLast ? 1 : bLast > aLast ? -1 : 0
				// if (aLast > bLast) {
				// 	return 1
				// } else if (bLast > aLast) {
				// 	return -1
				// } else {
				// 	return 0
				// }
			})

			// 8. Reduce Exercise
			// Sum up the instances of each of these
			const data = ['car', 'car', 'truck', 'truck', 'bike', 'walk', 'car', 'van', 'bike', 'walk', 'car', 'van', 'car', 'truck']
			let data_ans = data.reduce((obj, word) => {
				if (obj[word]) {
					obj[word] += 1
				} else {
					obj[word] = 1
				}
				return obj
			}, {})
			console.table(data_ans)
		</script>
	</body>
</html>
